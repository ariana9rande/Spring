<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Edit Movie</title>
    <script th:inline="javascript">
        let message = /*[[${message}]]*/"";

        if (message)
        {
            alert(message);
            message = "";
        }
    </script>
</head>
<body>
<div th:replace="navbar.html"></div>
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card">
                <div class="card-body">
                    <h3 class="card-title text-center">영화 정보 수정</h3>
                    <form th:action="@{/movie/edit/{id}(id=${movie.id})}" method="post">
                        <div class="form-group">
                            <label for="title">제목</label>
                            <input th:value="${movie.title}" type="text" class="form-control" id="title" name="title" required>
                        </div>
                        <div class="form-group">
                            <label for="director">감독</label>
                            <input th:value="${movie.director}" type="text" class="form-control" id="director" name="director" required>
                        </div>
                        <div class="form-group">
                            <label for="summary">줄거리</label>
                            <input th:value="${movie.summary}" type="text" class="form-control" id="summary" name="summary" required>
                        </div>
                        <div class="form-group">
                            <label for="releasedYear">개봉년도</label>
                            <input th:value="${movie.releasedYear}" type="text" class="form-control" id="releasedYear" name="releasedYear" required minlength="4" maxlength="4">
                        </div>
                        <div class="form-group">
                            <label for="rating">등급</label>
                            <select class="form-control" id="rating" name="rating" required>
                                <option value="all" th:selected="${movie.rating == 'all'}">전체관람가</option>
                                <option value="12" th:selected="${movie.rating == '12'}">12세 관람가</option>
                                <option value="15" th:selected="${movie.rating == '15'}">15세 관람가</option>
                                <option value="18" th:selected="${movie.rating == '18'}">청소년 관람불가</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary btn-block">정보 수정</button>
                    </form>
                </div>
            </div>
            <br>
            <a class="btn btn-secondary btn-block" th:href="@{/admin/dashboard}">이전 화면으로</a>
        </div>
    </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>
